(window.webpackJsonp=window.webpackJsonp||[]).push([["d0a3"],{RNiq:function(e,t,a){"use strict";a.r(t);var n=a("0iUn"),r=a("sLSF"),c=a("MI3g"),i=a("a7VT"),l=a("Tit0"),s=a("q1tI"),o=a.n(s),u=a("/MKj"),d=a("U4HR"),g=a("e+cM"),f=a("OcYQ"),p=a("NJwC"),h=a.n(p),m=a("zrwo"),b=a("dfwq"),v=a("ln6h"),E=a.n(v),y=a("O40h"),O=a("AT/M"),j=a("vYYK"),x=a("rT79"),S=[{tagKey:"entertainment",tag:"Entertainment"},{tagKey:"got",tag:"GOT"},{tagKey:"nature",tag:"Nature"},{tagKey:"moives",tag:"Movies"},{tagKey:"tvShows",tag:"TV"},{tagKey:"comics",tag:"Comics"},{tagKey:"eSports",tag:"ESports"},{tagKey:"Science",tag:"Science"},{tagKey:"mems",tag:"mems"},{tagKey:"bigBangTheory",tag:"Big bang theory"},{tagKey:"javaScript",tag:"javascript"},{tagKey:"travel",tag:"Travel"},{tagKey:"books",tag:"Books"},{tagKey:"cricket",tag:"Cricket"},{tagKey:"foodball",tag:"Football"},{tagKey:"cricketWorld",tag:"Cricket World cup"},{tagKey:"ux",tag:"UX"},{tagKey:"ui",tag:"UI"},{tagKey:"react",tag:"React"},{tagKey:"react native",tag:"React Native"}],T=a("dHca"),C=function(e){function t(){var e,a;Object(n.default)(this,t);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return a=Object(c.default)(this,(e=Object(i.default)(t)).call.apply(e,[this].concat(l))),Object(j.a)(Object(O.default)(a),"state",{title:"",text:"",textAreaHeight:20,maxCharactorLenght:!1,openText:!1,step:1,selectedTags:[],showLogin:!1,media:{url:"",type:null}}),Object(j.a)(Object(O.default)(a),"setToInitialState",function(){a.setState({imageUloading:!1,title:"",text:"",textAreaHeight:20,maxCharactorLenght:!1,step:1,selectedTags:[],showLogin:!1,media:{url:"",type:null,file:""}})}),Object(j.a)(Object(O.default)(a),"openLoginModal",function(){a.setState({showLogin:!0})}),Object(j.a)(Object(O.default)(a),"changeHeight",function(){var e=Math.round(a.state.title.length/100*40);e>20?a.setState({textAreaHeight:e}):a.setState({textAreaHeight:20})}),Object(j.a)(Object(O.default)(a),"handleTitleChange",function(e){e.target.value.length>100?a.setState({maxCharactorLenght:!0,openText:!0}):a.setState({title:e.target.value,maxCharactorLenght:!1},a.changeHeight())}),Object(j.a)(Object(O.default)(a),"handleTextChange",function(e){e.target.value.length>400?a.setState({textMaxCharactorLenght:!0}):a.setState({text:e.target.value,textMaxCharactorLenght:!1})}),Object(j.a)(Object(O.default)(a),"handleImageUpload",function(){var e=Object(y.default)(E.a.mark(function e(t){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({imageUloading:!0}),e.next=4,Object(T.b)(t);case 4:return n=e.sent,console.log(n,"url"),a.setState({imageUloading:!1}),e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),a.setState({imageUloading:!1}),e.abrupt("return","");case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()),Object(j.a)(Object(O.default)(a),"startDiscussion",Object(y.default)(E.a.mark(function e(){var t,n,r,c,i,l,s,o,u,d,g;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.auth,r=n.user,c=n.authenticated,i=t.createFeed,l=a.state,s=l.title,o=l.text,u=l.selectedTags,d=l.media,""===s&&""===d.url){e.next=24;break}if(c){e.next=6;break}return a.openLoginModal(),e.abrupt("return",!1);case 6:if(e.t0=Object(T.a)(10),e.t1={id:r.id,photoURL:r.photoURL,displayName:r.displayName},e.t2=null!==d.type?d.type:null,""===d.url){e.next=15;break}return e.next=12,a.handleImageUpload(d.file);case 12:e.t3=e.sent,e.next=16;break;case 15:e.t3="";case 16:e.t4=e.t3,e.t5={type:e.t2,url:e.t4},e.t6=o,e.t7=s,e.t8=u,g={id:e.t0,auther:e.t1,media:e.t5,text:e.t6,title:e.t7,tags:e.t8},i(g),a.setToInitialState();case 24:case"end":return e.stop()}},e)}))),Object(j.a)(Object(O.default)(a),"selectTag",function(e){return function(){var t=a.state.selectedTags,n=t.indexOf(e);if(-1!=n){var r=t;r.splice(n,1),a.setState({selectedTags:r})}else t.length<4&&a.setState(function(t){return{selectedTags:[].concat(Object(b.default)(t.selectedTags),[e])}})}}),Object(j.a)(Object(O.default)(a),"handleFileChange",function(e){console.log(e.target.files);var t=e.target.files[0],n=e.target.files.length>0?URL.createObjectURL(e.target.files[0]):"";a.setState(function(e){return Object(m.a)({},e,{media:{url:n,type:1,file:t}})})}),a}return Object(l.default)(t,e),Object(r.default)(t,[{key:"componentDidUpdate",value:function(e){this.props.auth.authenticated&&this.state.showLogin&&this.setState({showLogin:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.openText,n=t.textAreaHeight,r=(t.maxCharactorLenght,t.title),c=t.text,i=t.selectedTags,l=t.media,s=t.showLogin,u=t.imageUloading,d=r.length>0||""!==l.url,f=d?[h.a.createFormOuter,h.a.boxBorder].join(" "):h.a.createFormOuter;return o.a.createElement("div",{className:f},o.a.createElement("div",{className:h.a.createFeedConainer},o.a.createElement("div",{className:h.a.textAreaWrapper},o.a.createElement("textarea",{value:r,onChange:this.handleTitleChange,style:{height:n},placeholder:"Stage your voice. . ."}),o.a.createElement("div",{className:h.a.option},o.a.createElement("input",{type:"file",onChange:this.handleFileChange}),o.a.createElement(x.a,{style:{color:"#636e72",fontSize:"20px"}}))),u?o.a.createElement("div",null,"Posting"):o.a.createElement("div",{className:h.a.buttonArea,onClick:this.startDiscussion},o.a.createElement("div",{className:d?h.a.buttonCreate:h.a.buttonCreateDis},d?"Start discussion":"Start typing"))),o.a.createElement("div",{className:h.a.optionsBar},""!==l.url&&1===l.type&&o.a.createElement("div",{className:h.a.feedImage},o.a.createElement("img",{src:l.url})),d&&o.a.createElement("div",{className:h.a.optionsBarTags},o.a.createElement("div",null,"#addATag:"),S.map(function(t){return o.a.createElement(g.e,{key:t.tagKey,callback:e.selectTag,selected:-1!=i.indexOf(t.tagKey),prop:t.tagKey,title:t.tag})})),o.a.createElement("div",null)),a&&o.a.createElement("div",{className:h.a.secondForm},o.a.createElement("textarea",{value:c,onChange:this.handleTextChange,placeholder:"Say more about it here. . ."}),o.a.createElement("div",{className:h.a.actionsArea},o.a.createElement("div",null))),o.a.createElement(g.i,{visible:s},o.a.createElement("div",{className:h.a.loginContainer},o.a.createElement("h3",null,"Login in to continue"),o.a.createElement(g.c,{signUp:this.props.signUp}),o.a.createElement(g.f,{signUp:this.props.signUp}),o.a.createElement("div",{className:h.a.closeBtn},"Close"))))}}]),t}(o.a.Component),w=function(e){function t(){return Object(n.default)(this,t),Object(c.default)(this,Object(i.default)(t).apply(this,arguments))}return Object(l.default)(t,e),Object(r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.feeds,a=e.auth,n=e.createFeed,r=e.signUp;return o.a.createElement("div",{className:h.a.container},o.a.createElement(g.h,{title:f.d,ogImage:f.c,url:f.a,description:f.b}),o.a.createElement("div",{className:h.a.wrapper},o.a.createElement(C,{signUp:r,auth:a,createFeed:n}),o.a.createElement("div",{className:h.a.wrapperInner},t.map(function(e){return o.a.createElement(g.d,{key:e.id,feed:e})}))))}}]),t}(o.a.Component),U=a("5rBJ"),k=function(e){function t(){return Object(n.default)(this,t),Object(c.default)(this,Object(i.default)(t).apply(this,arguments))}return Object(l.default)(t,e),Object(r.default)(t,[{key:"componentDidMount",value:function(){this.props.getFeeds()}},{key:"render",value:function(){var e=this.props,t=e.signUp,a=e.auth,n=e.feeds,r=n.feeds,c=(n.loading,n.error,n.errorMessage,e.createFeed);return o.a.createElement(w,{signUp:t,feeds:r,auth:a,createFeed:c})}}]),t}(o.a.Component);t.default=Object(u.b)(function(e){return{feeds:e.feeds,auth:e.auth}},function(e){return{getFeeds:function(){return e(Object(d.h)())},createFeed:function(t){return e(Object(d.g)(t))},signUp:function(t,a){return e(Object(U.d)(t,a))}}})(k)},U4HR:function(e,t,a){"use strict";a.d(t,"e",function(){return l}),a.d(t,"f",function(){return s}),a.d(t,"d",function(){return o}),a.d(t,"h",function(){return d}),a.d(t,"b",function(){return g}),a.d(t,"c",function(){return f}),a.d(t,"a",function(){return p}),a.d(t,"g",function(){return b});var n=a("ln6h"),r=a.n(n),c=a("O40h"),i=a("adxC"),l="GET_FEEDS_REQUEST",s="GET_FEEDS_SUCCESS",o="GET_FEEDS_FAIL",u=function(e){return{type:s,feeds:e}},d=function(){return function(){var e=Object(c.default)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:l}),e.prev=1,e.next=4,Object(i.f)();case 4:a=e.sent,t(u(a)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0,"error in fetching feeds"),t((n=e.t0,{type:o,error:n}));case 12:case"end":return e.stop()}var n},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},g="CREAET_FEEDS_REQUEST",f="CREAET_FEEDS_SUCCESS",p="ADD_FEED_TO_STATE",h=function(e){return{type:"CREAET_FEEDS_FAIL",error:e}},m=function(e){return{type:p,feed:e}},b=function(e){return function(){var t=Object(c.default)(r.a.mark(function t(a){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e,"create feed"),a({type:g}),a(m(e));try{Object(i.c)(e)}catch(n){console.log(n),a(h(n))}a({type:f,feeds:void 0});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},vlRD:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){var e=a("RNiq");return{page:e.default||e}}])}},[["vlRD","5d41","9da1","ad9d"]]]);